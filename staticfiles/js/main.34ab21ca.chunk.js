(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{223:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(30),c=a.n(r),s=a(11),o=a(80),i=a(142),l=a(143),d=a(14),j="STOCKS_LIST_REQUEST",u="STOCKS_LIST_SUCCESS",p="STOCKS_LIST_FAIL",b="STOCKS_DETAILS_REQUEST",h="STOCKS_DETAILS_SUCCESS",O="STOCKS_DETAILS_FAIL",x="STOCKS_DETAILS_GRAPH_REQUEST",f="STOCKS_DETAILS_GRAPH_SUCCESS",m="STOCKS_DETAILS_GRAPH_FAIL",v="STOCKS_TOP_GAINER_REQUEST",g="STOCKS_TOP_GAINER_SUCCESS",y="STOCKS_TOP_GAINER_FAIL",S="STOCKS_TOP_LOSER_REQUEST",_="STOCKS_TOP_LOSER_SUCCESS",k="STOCKS_TOP_LOSER_FAIL",C="USER_LOGIN_REQUEST",E="USER_LOGIN_SUCCESS",L="USER_LOGIN_FAIL",I="USER_LOGOUT",w="USER_REGISTER_REQUEST",T="USER_REGISTER_SUCCESS",R="USER_REGISTER_FAIL",N="USER_DETAILS_REQUEST",A="USER_DETAILS_SUCCESS",P="USER_DETAILS_FAIL",D="USER_DETAILS_RESET",U="USER_UPDATE_PROFILE_REQUEST",F="USER_UPDATE_PROFILE_SUCCESS",G="USER_UPDATE_PROFILE_FAIL",z="USER_UPDATE_PROFILE_RESET",B=a(58),K="PORTFOLIO_CREATE_REQUEST",Q="PORTFOLIO_CREATE_SUCCESS",M="PORTFOLIO_CREATE_FAIL",q="PORTFOLIO_REQUEST",H="PORTFOLIO_SUCCESS",J="PORTFOLIO_FAIL",V="PORTFOLIO_DELETE_REQUEST",W="PORTFOLIO_DELETE_SUCCESS",X="PORTFOLIO_DELETE_FAIL",Y="PORTFOLIO_DETAILS_REQUEST",Z="PORTFOLIO_DETAILS_SUCCESS",$="PORTFOLIO_DETAILS_FAIL",ee="PORTFOLIO_RECORD_CREATE_REQUEST",te="PORTFOLIO_RECORD_CREATE_SUCCESS",ae="PORTFOLIO_RECORD_CREATE_FAIL",ne="PORTFOLIO_RECORD_DELETE_REQUEST",re="PORTFOLIO_RECORD_DELETE_SUCCESS",ce="PORTFOLIO_RECORD_DELETE_FAIL",se="PORTFOLIO_DETAILS_UPDATE_REQUEST",oe="PORTFOLIO_DETAILS_UPDATE_SUCCESS",ie="PORTFOLIO_DETAILS_UPDATE_FAIL",le="PORTFOLIO_RECORD_UPDATE_REQUEST",de="PORTFOLIO_RECORD_UPDATE_SUCCESS",je="PORTFOLIO_RECORD_UPDATE_FAIL",ue=Object(o.combineReducers)({stocksList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stocks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0,stocks:[]};case u:return{loading:!1,stocks:t.payload.stocks,page:t.payload.page,pages:t.payload.pages};case p:return{loading:!1,error:t.payload};default:return e}},stocksTopGainersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stocks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0,stocks:[]};case g:return{loading:!1,stocks:t.payload};case y:return{loading:!1,error:t.payload};default:return e}},stockDetailsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stock:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case x:return Object(d.a)({loading:!0},e);case h:return{loading:!1,stock:t.payload};case O:case m:return{loading:!1,error:t.payload};case f:return e.stock.chart=t.payload.chart,{loading:!1,stock:e.stock};default:return e}},stocksTopLosersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stocks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0,stocks:[]};case _:return{loading:!1,stocks:t.payload};case k:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case E:return{loading:!1,userInfo:t.payload};case L:return{loading:!1,error:t.payload};case I:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case T:return{loading:!1,userInfo:t.payload};case R:return{loading:!1,error:t.payload};case I:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case A:return{loading:!1,user:t.payload};case P:return{loading:!1,error:t.payload};case D:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case F:return{loading:!1,success:!0,userInfo:t.payload};case G:return{loading:!1,error:t.payload};case z:return{};default:return e}},portfolioList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,portfolios:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:case K:case se:case V:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case H:return{loading:!1,portfolios:t.payload};case J:case M:case ie:case X:return{loading:!1,error:t.payload};case Q:return{loading:!1,success:!0,portfolios:[].concat(Object(B.a)(e.portfolios),[t.payload])};case oe:var a=e.portfolios.findIndex((function(e){return e.id===t.payload.id}));return e.portfolios[a].name=t.payload.name,e.portfolios[a].updatedAt=t.payload.updatedAt,Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolios:e.portfolios,success:!0});case W:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolios:e.portfolios.filter((function(e){return e.id!==parseInt(t.payload)})),success:!0});default:return e}},portfolioDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,portfolio:{records:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case ee:case le:case ne:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case Z:return{loading:!1,portfolio:t.payload};case $:case ae:case je:case ce:return{loading:!1,error:t.payload};case te:return e.portfolio.records=[].concat(Object(B.a)(e.portfolio.records),[t.payload]),Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolio:e.portfolio});case de:var a=e.portfolio.records.findIndex((function(e){return e.id===t.payload.id}));return e.portfolio.records[a]=t.payload,Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolio:e.portfolio,success:!0});case re:return e.portfolio.records=e.portfolio.records.filter((function(e){return e.id!==parseInt(t.payload)})),Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolio:e.portfolio});default:return e}}}),pe={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},be=[i.a],he=Object(o.createStore)(ue,pe,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,be))),Oe=a(234),xe=a(17),fe=a(19),me=a(242),ve=a(243),ge=a(239),ye=a(39),Se=a(12),_e=a(241),ke=a(146),Ce=a(1);function Ee(){var e=Object(n.useState)(""),t=Object(Se.a)(e,2),a=t[0],r=t[1],c=Object(fe.k)();return Object(Ce.jsxs)(_e.a,{onSubmit:function(e){e.preventDefault(),a?c.push("/search/?keyword=".concat(a,"&page=1")):c.push(c.push(c.location.pathname))},inline:!0,children:[Object(Ce.jsx)(_e.a.Control,{type:"text",name:"q",onChange:function(e){return r(e.target.value)},className:"mr-sm-2 ml-sm-5"}),Object(Ce.jsx)(ke.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Submit"})]})}var Le=a(13),Ie=a.n(Le),we=a(21),Te=a(22),Re=a.n(Te);function Ne(){var e=Object(s.c)((function(e){return e.userLogin})).userInfo,t=Object(s.b)();return Object(Ce.jsx)("header",{children:Object(Ce.jsx)(me.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(Ce.jsxs)(Oe.a,{children:[Object(Ce.jsx)(ye.LinkContainer,{to:"/",children:Object(Ce.jsx)(me.a.Brand,{children:"SE Helper"})}),Object(Ce.jsx)(me.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Ce.jsxs)(me.a.Collapse,{id:"basic-navbar-nav",children:[Object(Ce.jsx)(Ee,{}),Object(Ce.jsx)(ve.a,{className:"ml-auto",children:e?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(ye.LinkContainer,{to:"/portfolios",children:Object(Ce.jsx)(ve.a.Link,{children:"My Portfolio"})}),Object(Ce.jsxs)(ge.a,{title:e.name,id:"username",children:[Object(Ce.jsx)(ye.LinkContainer,{to:"/profile",children:Object(Ce.jsx)(ge.a.Item,{children:"Profile"})}),Object(Ce.jsx)(ge.a.Item,{onClick:function(){t((function(e){localStorage.removeItem("userInfo"),e({type:I})}))},children:"Logout"})]})]}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(ye.LinkContainer,{to:"/login",children:Object(Ce.jsx)(ve.a.Link,{children:"Login"})}),Object(Ce.jsx)(ye.LinkContainer,{to:"/register",children:Object(Ce.jsx)(ve.a.Link,{children:"Register"})})]})})]})]})})})}var Ae=a(238),Pe=a(145),De=a(235);var Ue=function(){return Object(Ce.jsx)(De.a,{animation:"grow",role:"status",variant:"success",style:{margin:"100px auto",height:"100px",width:"100px",display:"block"},children:Object(Ce.jsx)("span",{className:"sr-only",children:"Loading..."})})},Fe=a(236);var Ge=function(e){var t=e.variant,a=e.children;return Object(Ce.jsx)(Fe.a,{variant:t,children:a})},ze=a(237),Be=a(112),Ke=function(){return function(){var e=Object(we.a)(Ie.a.mark((function e(t,a){var n,r,c,s,o;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:q}),n=a(),r=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,Re.a.get("/api/portfolio/",c);case 6:s=e.sent,o=s.data,t({type:H,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:J,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},Qe=function(e){var t=e.id,a=e.record;return function(){var e=Object(we.a)(Ie.a.mark((function e(n,r){var c,s,o,i,l;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:ee}),c=r(),s=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,Re.a.post("/api/portfolio/".concat(t,"/record/"),a,o);case 6:i=e.sent,l=i.data,n({type:te,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:ae,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},Me=a(240);function qe(e){var t=e.show,a=(e.onClose,e.title),n=e.body;return Object(Ce.jsxs)(Me.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(Ce.jsx)(Me.a.Header,{children:Object(Ce.jsx)(Me.a.Title,{id:"contained-modal-title-vcenter",children:a})}),Object(Ce.jsx)(Me.a.Body,{children:n})]})}function He(e){var t=e.value,a=e.prefix;return Object(Ce.jsxs)("p",{className:t>0?"text-success":t<0?"text-danger":"",children:[t>0?"+"+t:t,a]})}function Je(e){var t=e.title,a=e.seeMoreLink,r=e.showAddToPortfolioButton,c=e.stocks,o=Object(fe.k)(),i=o.location.search?o.location.pathname+o.location.search:o.location.pathname,l=Object(n.useState)([]),d=Object(Se.a)(l,2),j=d[0],u=d[1],p=Object(n.useState)(!1),b=Object(Se.a)(p,2),h=b[0],O=b[1],x=Object(n.useRef)(),f=Object(s.b)(),m=Object(s.c)((function(e){return e.portfolioList})).portfolios,v=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){var e=function(e){var t;(null===(t=x.current)||void 0===t?void 0:t.contains(e.target))&&O(!0)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}})),Object(n.useEffect)((function(){f(Ke()),r&&0===j.length&&(x.current.disabled=!0),r&&j.length>0&&(x.current.disabled=!1)}),[f,r,j]);var g=function(e){var t=e.target.value;u((function(e){return e.find((function(e){return e===t}))?e.filter((function(e){return e!==t})):[].concat(Object(B.a)(e),[t])}))},y=function(e){var t=e.currentTarget.value;j.forEach((function(e){var a={symbol:e,trade_date:new Date,shares:0,cost_per_share:0,notes:""};f(Qe({id:t,record:a})),o.push("/portfolio/".concat(t,"/"))}))};return Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(Ce.jsx)("h4",{children:t}),r&&v?Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(qe,{show:h,size:"sm",title:"Choose Portfolio to add the stocks",body:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("div",{className:"d-grid gap-2",children:m.map((function(e){return Object(Ce.jsx)("div",{children:Object(Ce.jsx)(ke.a,{variant:"link",value:e.id,style:{cursor:"pointer"},onClick:y,children:e.name})},e.id)}))}),Object(Ce.jsx)(ke.a,{className:"mt-3 float-right",onClick:function(){return O(!1)},variant:"secondary",children:"Close"})]})}),Object(Ce.jsxs)(ke.a,{disabled:!0,ref:x,variant:"outline-info",size:"sm",className:"d-flex align-items-center",children:[Object(Ce.jsx)(Be.a,{size:"1rem",className:"mr-2"}),"  Add To Portfolio"]})]}):"",a&&Object(Ce.jsx)(xe.Link,{to:a,children:"See More..."})]}),Object(Ce.jsxs)(ze.a,{striped:!0,responsive:!0,hover:!0,size:"sm",children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Symbol"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Last Price"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Change"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"% Change"})})]})}),Object(Ce.jsx)("tbody",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(Ce.jsxs)("tr",{children:[Object(Ce.jsxs)("td",{children:[r&&v?Object(Ce.jsx)(_e.a.Check,{type:"checkbox",id:"default-checkbox",onChange:g,value:e.symbol,label:Object(Ce.jsx)(xe.Link,{to:"/stock/".concat(e.symbol,"/?prev=").concat(i),children:e.symbol})}):Object(Ce.jsx)(xe.Link,{to:"/stock/".concat(e.symbol,"/?prev=").concat(i),children:e.symbol}),Object(Ce.jsx)("div",{children:Object(Ce.jsx)("small",{children:e.name})})]}),Object(Ce.jsx)("td",{children:e.price}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(He,{value:e.change_amount})}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(He,{value:e.change_percent,prefix:"%"})})]},e.symbol)}))})]})]})}var Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(we.a)(Ie.a.mark((function t(a){var n,r;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:j}),t.next=4,Re.a.get("/api/stocks/".concat(e));case 4:n=t.sent,r=n.data,a({type:u,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:p,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(we.a)(Ie.a.mark((function t(a){var n,r;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:v}),t.next=4,Re.a.get("/api/stocks/top-gainers/".concat(e));case 4:n=t.sent,r=n.data,a({type:g,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:y,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(we.a)(Ie.a.mark((function t(a){var n,r;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:S}),t.next=4,Re.a.get("/api/stocks/top-losers/".concat(e));case 4:n=t.sent,r=n.data,a({type:_,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:k,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()};function Ye(){var e,t,a=Object(s.b)(),r=Object(s.c)((function(e){return e.stocksTopLosersList})),c=Object(s.c)((function(e){return e.stocksTopGainersList}));return Object(n.useEffect)((function(){a(We()),a(Xe())}),[a]),Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(Ae.a,{children:r.loading&&c.loading?Object(Ce.jsx)(Ue,{}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(Pe.a,{sm:12,md:6,children:c.error?Object(Ce.jsx)(Ge,{variant:"danger",children:c.error}):Object(Ce.jsx)("div",{className:"py-5",children:Object(Ce.jsx)(Je,{title:"Stocks: Gainers",seeMoreLink:"top-gainers",ink:"top-gainers",stocks:null===(e=c.stocks.stocks)||void 0===e?void 0:e.slice(0,5)})})}),Object(Ce.jsx)(Pe.a,{sm:12,md:6,children:r.error?Object(Ce.jsx)(Ge,{variant:"danger",children:r.error}):Object(Ce.jsx)("div",{className:"py-5",children:Object(Ce.jsx)(Je,{title:"Stocks: Losers",seeMoreLink:"top-losers",stocks:null===(t=r.stocks.stocks)||void 0===t?void 0:t.slice(0,5)})})})]})})})}var Ze=a(244);var $e=function(e){var t=e.pages,a=e.page,n=e.link,r=void 0===n?"":n,c=e.keywords,s=e.extra;c&&(c=c.split("?")[1].split("&")[0]);var o=Math.max(a-1-s/2,0),i=Math.min(a-1+s/2,t-1);return t>1&&Object(Ce.jsxs)(Ze.a,{children:[a>1&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(ye.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=",1),children:Object(Ce.jsx)(Ze.a.Item,{children:"First"})},"first"),Object(Ce.jsx)(ye.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=").concat(a-1),children:Object(Ce.jsx)(Ze.a.Item,{children:"Prev"})},"prev")]}),Object(B.a)(Array(i-o+1).fill().map((function(e,t){return o+t}))).map((function(e){return Object(Ce.jsx)(ye.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=").concat(e+1),children:Object(Ce.jsx)(Ze.a.Item,{active:e+1===a,children:e+1})},e+1)})),Object(Ce.jsx)(ye.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=").concat(a+1),children:Object(Ce.jsx)(Ze.a.Item,{children:"Next"})},"next"),Object(Ce.jsx)(ye.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=").concat(t),children:Object(Ce.jsx)(Ze.a.Item,{children:"Last"})},"last")]})};function et(e){var t=e.history,a=Object(s.b)(),r=Object(s.c)((function(e){return e.stocksList})),c=r.error,o=r.loading,i=r.stocks,l=r.page,d=r.pages,j=t.location.search,u=j.split("?keyword=")[1].split("&")[0];return Object(n.useEffect)((function(){a(Ve(j))}),[a,j]),o?Object(Ce.jsx)(Ue,{}):Object(Ce.jsx)("div",{children:c?Object(Ce.jsx)(Ge,{variant:"danger",children:c}):Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsx)(Pe.a,{children:Object(Ce.jsx)("div",{className:"py-5",children:Object(Ce.jsx)(Je,{title:"Stocks Search: ".concat(u),showAddToPortfolioButton:!0,stocks:i})})})}),Object(Ce.jsx)($e,{page:l,pages:d,keywords:j,link:"search",extra:2})]})})}var tt=a(245);function at(e){var t=e.location,a=e.match,r=Object(fe.k)(),c=Object(n.useState)(!1),o=Object(Se.a)(c,2),i=o[0],l=o[1],d=Object(s.b)(),j=Object(s.c)((function(e){return e.stockDetailsList})),u=j.error,p=j.stock,v=Object(s.c)((function(e){return e.portfolioList})),g=v.loading,y=v.portfolios,S=Object(s.c)((function(e){return e.userLogin})).userInfo,_=t.search?t.search.split("?prev=")[1]:"/";Object(n.useEffect)((function(){var e;d(Ke()),d((e=a.params.id,function(){var t=Object(we.a)(Ie.a.mark((function t(a){var n,r;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:b}),t.next=4,Re.a.get("/api/stocks/".concat(e,"/"));case 4:n=t.sent,r=n.data,a({type:h,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:O,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),d(function(e){var t=e.id,a=e.range,n=e.interval;return function(){var e=Object(we.a)(Ie.a.mark((function e(r){var c,s,o;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:x}),c={headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36","Content-type":"application/json"}},e.next=5,Re.a.get("https://query1.finance.yahoo.com/v8/finance/chart/".concat(t,"?interval=").concat(n,"&range=").concat(a),c);case 5:s=e.sent,o=s.data,r({type:f,payload:o}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r({type:m,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}({id:a.params.id,interval:"2m",range:"1d"}))}),[d,a]);var k=function(e){var t=e.currentTarget.value,a={symbol:p.symbol,trade_date:new Date,shares:0,cost_per_share:0,notes:""};d(Qe({id:t,record:a})),r.push("/portfolio/".concat(t,"/"))};return Object(Ce.jsxs)("div",{children:[Object(Ce.jsx)(xe.Link,{to:_,className:"btn btn-light my-3",children:"Go Back"}),g?Object(Ce.jsx)(Ue,{}):u?Object(Ce.jsx)(Ge,{variant:"danger",children:u}):Object(Ce.jsxs)("div",{children:[Object(Ce.jsxs)(Ae.a,{children:[Object(Ce.jsx)(Pe.a,{sm:12,md:10,children:Object(Ce.jsxs)("h4",{children:[p.name," (",p.symbol,")"]})}),S&&Object(Ce.jsxs)(Pe.a,{sm:12,md:2,children:[Object(Ce.jsx)(qe,{show:i,size:"sm",title:"Choose Portfolio to add the stocks",body:Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)("div",{className:"d-grid gap-2",children:y.length?y.map((function(e){return Object(Ce.jsx)("div",{children:Object(Ce.jsx)(ke.a,{variant:"link",value:e.id,style:{cursor:"pointer"},onClick:k,children:e.name})},e.id)})):Object(Ce.jsx)("div",{children:"No Portfolio found, please create one"})}),Object(Ce.jsx)(ke.a,{className:"mt-3 float-right",onClick:function(){return l(!1)},variant:"secondary",children:"Close"})]})}),Object(Ce.jsxs)(ke.a,{variant:"outline-info",size:"sm",className:"d-flex align-items-center",onClick:function(){return l(!0)},children:[Object(Ce.jsx)(Be.a,{size:"1rem",className:"mr-2"}),"  Add To Portfolio"]})]})]}),Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsx)(Pe.a,{children:Object(Ce.jsxs)("h2",{children:[p.price,Object(Ce.jsx)("small",{className:p.change_amount>0?"text-success":"text-danger",children:p.change_amount>0?"+"+p.change_amount:p.change_amount}),Object(Ce.jsxs)("small",{className:p.change_percent>0?"text-success":"text-danger",children:["(",p.change_percent>0?"+"+p.change_percent+"%":p.change_percent+"%",")"]})]})})}),Object(Ce.jsxs)(Ae.a,{children:[Object(Ce.jsx)(Pe.a,{md:6,children:Object(Ce.jsxs)(tt.a,{variant:"flush",children:[Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Previous Close"}),Object(Ce.jsx)("div",{children:p.prev_close_value?p.prev_close_value:"N/A"})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Open"}),Object(Ce.jsx)("div",{children:p.open_value?p.open_value:"N/A"})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Bid"}),Object(Ce.jsxs)("div",{children:[p.bid_value?p.bid_value:"N/A"," X ",p.bid_quantity?p.bid_quantity:"N/A"]})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Ask"}),Object(Ce.jsxs)("div",{children:[p.ask_value?p.ask_value:"N/A"," X ",p.ask_quantity?p.ask_quantity:"N/A"]})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Day's Range"}),Object(Ce.jsxs)("div",{children:[p.days_low?p.days_low:"N/A"," - ",p.days_high?p.days_high:"N/A"]})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Day's Range"}),Object(Ce.jsxs)("div",{children:[p.fifty_two_week_low?p.fifty_two_week_low:"N/A"," - ",p.fifty_two_week_high?p.fifty_two_week_high:"N/A"]})]})]})}),Object(Ce.jsx)(Pe.a,{md:6,children:Object(Ce.jsxs)(tt.a,{variant:"flush",children:[Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Volume"}),Object(Ce.jsx)("div",{children:p.volume?p.volume:"N/A"})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Avg. Volume"}),Object(Ce.jsx)("div",{children:p.avg_volume?p.avg_volume:"N/A"})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Market Cap"}),Object(Ce.jsx)("div",{children:p.market_cap?p.market_cap:"N/A"})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"PE Ratio"}),Object(Ce.jsx)("div",{children:p.pe_ratio?p.pe_ratio:"N/A"})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"EPS Ratio"}),Object(Ce.jsx)("div",{children:p.eps_ratio?p.eps_ratio:"N/A"})]}),Object(Ce.jsxs)(tt.a.Item,{className:"d-flex justify-content-between",children:[Object(Ce.jsx)("div",{children:"Forward Dividend & Yield"}),Object(Ce.jsx)("div",{children:p.forward_dividend_yield?p.forward_dividend_yield:"N/A"})]})]})})]})]})]})}function nt(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.stocksTopGainersList})),a=Object(fe.k)().location.search;return Object(n.useEffect)((function(){e(We(a))}),[e,a]),Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsx)(Pe.a,{children:t.loading?Object(Ce.jsx)(Ue,{}):t.error?Object(Ce.jsx)(Ge,{variant:"danger",children:t.error}):Object(Ce.jsxs)("div",{className:"py-5",children:[Object(Ce.jsx)(Je,{title:"Stocks: Gainers (Top ".concat(t.stocks.total,")"),showAddToPortfolioButton:!0,stocks:t.stocks.stocks}),Object(Ce.jsx)($e,{page:t.stocks.page,pages:t.stocks.pages,link:"top-gainers",keywords:a,extra:2})]})})})})}function rt(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.stocksTopLosersList})),a=Object(fe.k)().location.search;return Object(n.useEffect)((function(){e(Xe(a))}),[e,a]),Object(Ce.jsx)(Ce.Fragment,{children:Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsx)(Pe.a,{children:t.loading?Object(Ce.jsx)(Ue,{}):t.error?Object(Ce.jsx)(Ge,{variant:"danger",children:t.error}):Object(Ce.jsxs)("div",{className:"py-5",children:[Object(Ce.jsx)(Je,{title:"Stocks: Losers (Top ".concat(t.stocks.total,")"),showAddToPortfolioButton:!0,stocks:t.stocks.stocks}),Object(Ce.jsx)($e,{page:t.stocks.page,pages:t.stocks.pages,link:"top-losers",keywords:a,extra:2})]})})})})}var ct=function(e){var t=e.children;return Object(Ce.jsx)(Oe.a,{children:Object(Ce.jsx)(Ae.a,{className:"justify-content-md-center py-5",children:Object(Ce.jsx)(Pe.a,{xs:12,md:6,children:t})})})};function st(e){var t=e.location,a=e.history,r=Object(n.useState)(""),c=Object(Se.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(""),d=Object(Se.a)(l,2),j=d[0],u=d[1],p=Object(s.b)(),b=t.search?t.search.split("=")[1]:"/",h=Object(s.c)((function(e){return e.userLogin})),O=h.error,x=h.loading,f=h.userInfo;Object(n.useEffect)((function(){f&&a.push(b)}),[a,f,b]);return x?Object(Ce.jsx)(Ue,{}):Object(Ce.jsxs)(ct,{children:[Object(Ce.jsx)("h1",{children:"Sign In"}),O&&Object(Ce.jsx)(Ge,{variant:"danger",children:O}),Object(Ce.jsxs)(_e.a,{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var a=Object(we.a)(Ie.a.mark((function a(n){var r,c,s;return Ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:C}),r={headers:{"Content-type":"application/json"}},a.next=5,Re.a.post("/api/users/login/",{username:e,password:t},r);case 5:c=a.sent,s=c.data,n({type:E,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:L,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(o,j))},children:[Object(Ce.jsxs)(_e.a.Group,{controlId:"email",children:[Object(Ce.jsx)(_e.a.Label,{children:"Email Address"}),Object(Ce.jsx)(_e.a.Control,{type:"email",placeholder:"Enter Email",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{controlId:"password",children:[Object(Ce.jsx)(_e.a.Label,{children:"Password"}),Object(Ce.jsx)(_e.a.Control,{type:"password",placeholder:"Enter Password",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Ce.jsx)(ke.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(Ce.jsx)(Ae.a,{className:"py-3",children:Object(Ce.jsxs)(Pe.a,{children:["New Customer? ",Object(Ce.jsx)(xe.Link,{to:b?"/register?redirect=".concat(b):"/register",children:"Register"})]})})]})}var ot=function(e){var t=e.location,a=e.history,r=Object(n.useState)(""),c=Object(Se.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(""),d=Object(Se.a)(l,2),j=d[0],u=d[1],p=Object(n.useState)(""),b=Object(Se.a)(p,2),h=b[0],O=b[1],x=Object(n.useState)(""),f=Object(Se.a)(x,2),m=f[0],v=f[1],g=Object(n.useState)(""),y=Object(Se.a)(g,2),S=y[0],_=y[1],k=Object(s.b)(),C=t.search?t.search.split("=")[1]:"/",L=Object(s.c)((function(e){return e.userRegister})),I=L.error,N=L.loading,A=L.userInfo;return Object(n.useEffect)((function(){A&&a.push(C)}),[a,A,C]),N?Object(Ce.jsx)(Ue,{}):Object(Ce.jsxs)(ct,{children:[Object(Ce.jsx)("h1",{children:"Sign In"}),S&&Object(Ce.jsx)(Ge,{variant:"danger",children:S}),I&&Object(Ce.jsx)(Ge,{variant:"danger",children:I}),Object(Ce.jsxs)(_e.a,{onSubmit:function(e){e.preventDefault(),h!==m?_("Passwords do not match"):k(function(e,t,a){return function(){var n=Object(we.a)(Ie.a.mark((function n(r){var c,s,o;return Ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:w}),c={headers:{"Content-type":"application/json"}},n.next=5,Re.a.post("/api/users/register/",{name:e,email:t,password:a},c);case 5:s=n.sent,o=s.data,r({type:T,payload:o}),r({type:E,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:R,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,j,h))},children:[Object(Ce.jsxs)(_e.a.Group,{controlId:"name",children:[Object(Ce.jsx)(_e.a.Label,{children:"Name"}),Object(Ce.jsx)(_e.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{controlId:"email",children:[Object(Ce.jsx)(_e.a.Label,{children:"Email Address"}),Object(Ce.jsx)(_e.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{controlId:"password",children:[Object(Ce.jsx)(_e.a.Label,{children:"Password"}),Object(Ce.jsx)(_e.a.Control,{required:!0,type:"password",placeholder:"Enter Password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{controlId:"passwordConfirm",children:[Object(Ce.jsx)(_e.a.Label,{children:"Confirm Password"}),Object(Ce.jsx)(_e.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:m,onChange:function(e){return v(e.target.value)}})]}),Object(Ce.jsx)(ke.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(Ce.jsx)(Ae.a,{className:"py-3",children:Object(Ce.jsxs)(Pe.a,{children:["Have an Account? ",Object(Ce.jsx)(xe.Link,{to:C?"/login?redirect=".concat(C):"/login",children:"Sign In"})]})})]})};var it=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(Se.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(Se.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(""),p=Object(Se.a)(u,2),b=p[0],h=p[1],O=Object(n.useState)(""),x=Object(Se.a)(O,2),f=x[0],m=x[1],v=Object(n.useState)(""),g=Object(Se.a)(v,2),y=g[0],S=g[1],_=Object(s.b)(),k=Object(s.c)((function(e){return e.userDetails})),C=k.error,L=k.loading,I=k.user,w=Object(s.c)((function(e){return e.userLogin})).userInfo,T=Object(s.c)((function(e){return e.userUpdateProfile})).success;return Object(n.useEffect)((function(){var e;w?I&&I.name&&!T&&w._id===I._id?(o(I.name),j(I.email)):(_({type:z}),_((e="profile",function(){var t=Object(we.a)(Ie.a.mark((function t(a,n){var r,c,s,o,i;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:N}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Re.a.get("/api/users/".concat(e,"/"),s);case 6:o=t.sent,i=o.data,a({type:A,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:P,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))):t.push("/login?redirect=portfolio")}),[_,t,w,I,T]),L?Object(Ce.jsx)(Ue,{}):Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsxs)(Pe.a,{className:"py-5",children:[Object(Ce.jsx)("h2",{children:"User Profile"}),y&&Object(Ce.jsx)(Ge,{variant:"danger",children:y}),C&&Object(Ce.jsx)(Ge,{variant:"danger",children:C}),Object(Ce.jsxs)(_e.a,{onSubmit:function(e){e.preventDefault(),b!==f?S("Passwords do not match"):(_(function(e){return function(){var t=Object(we.a)(Ie.a.mark((function t(a,n){var r,c,s,o,i;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:U}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Re.a.put("/api/users/profile/update/",e,s);case 6:o=t.sent,i=o.data,a({type:F,payload:i}),a({type:E,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:G,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:I._id,name:c,email:d,password:b})),S(""))},children:[Object(Ce.jsxs)(_e.a.Group,{controlId:"name",children:[Object(Ce.jsx)(_e.a.Label,{children:"Name"}),Object(Ce.jsx)(_e.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{controlId:"email",children:[Object(Ce.jsx)(_e.a.Label,{children:"Email Address"}),Object(Ce.jsx)(_e.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{controlId:"password",children:[Object(Ce.jsx)(_e.a.Label,{children:"Password"}),Object(Ce.jsx)(_e.a.Control,{type:"password",placeholder:"Enter Password",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{controlId:"passwordConfirm",children:[Object(Ce.jsx)(_e.a.Label,{children:"Confirm Password"}),Object(Ce.jsx)(_e.a.Control,{type:"password",placeholder:"Confirm Password",value:f,onChange:function(e){return m(e.target.value)}})]}),Object(Ce.jsx)(ke.a,{type:"submit",variant:"primary",children:"Update"})]})]})})};function lt(){var e=Object(fe.k)(),t=e.location.search?e.location.pathname+e.location.search:e.location.pathname,a=Object(n.useState)(!1),r=Object(Se.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(!1),l=Object(Se.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(""),p=Object(Se.a)(u,2),b=p[0],h=p[1],O=Object(n.useState)(""),x=Object(Se.a)(O,2),f=x[0],m=x[1],v=Object(s.c)((function(e){return e.userLogin})).userInfo,g=Object(s.b)(),y=Object(s.c)((function(e){return e.portfolioList})),S=y.error,_=y.loading,k=y.portfolios;Object(n.useEffect)((function(){v||e.push("/login"),g(Ke())}),[]);var C=function(e){e.preventDefault();var t,a=e.target.value;g((t=a,function(){var e=Object(we.a)(Ie.a.mark((function e(a,n){var r,c,s;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:V}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,Re.a.delete("/api/portfolio/".concat(t,"/"),s);case 6:a({type:W,payload:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:X,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},E=function(e){e.preventDefault(),g(function(e){var t=e.id,a=e.portfolio;return function(){var e=Object(we.a)(Ie.a.mark((function e(n,r){var c,s,o,i,l;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:se}),c=r(),s=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,Re.a.put("/api/portfolio/".concat(t,"/"),a,o);case 6:i=e.sent,l=i.data,n({type:oe,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:ie,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()}({id:f,portfolio:{name:b}})),h(""),j(!1)};return _?Object(Ce.jsx)(Ue,{}):Object(Ce.jsx)(Ce.Fragment,{children:S?Object(Ce.jsx)(Ge,{variant:"danger",children:S}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(qe,{show:c,title:"Create New Portfolio",body:Object(Ce.jsxs)(_e.a,{onSubmit:function(e){var t;e.preventDefault(),g((t={name:b},function(){var e=Object(we.a)(Ie.a.mark((function e(a,n){var r,c,s,o,i;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:K}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,Re.a.post("/api/portfolio/",t,s);case 6:o=e.sent,i=o.data,a({type:Q,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:M,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())),h(""),o(!1)},children:[Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(Ce.jsx)(_e.a.Label,{children:"Portfolio Name"}),Object(Ce.jsx)(_e.a.Control,{type:"name",placeholder:"Enter Portfolio Name",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"pt-3 text-right border-top",controlId:"formBasicEmail",children:[Object(Ce.jsx)(ke.a,{onClick:function(){return o(!1)},variant:"secondary",children:"Close"}),Object(Ce.jsx)(ke.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}),Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsx)(Pe.a,{className:"d-flex justify-content-between",children:Object(Ce.jsx)(ke.a,{onClick:function(){return o(!0)},variant:"info",size:"sm",className:"my-3 d-flex align-items-center text-center",children:"Create New Portfolio"})})}),k.length>0&&Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsx)(Pe.a,{children:Object(Ce.jsxs)(ze.a,{striped:!0,responsive:!0,hover:!0,size:"sm",children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Name"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Symbols"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Market Value"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Day Change"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Day Change%"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Total Change"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Total Change %"})}),Object(Ce.jsx)("th",{})]})}),Object(Ce.jsx)("tbody",{children:null===k||void 0===k?void 0:k.map((function(e){return Object(Ce.jsxs)("tr",{children:[Object(Ce.jsxs)("td",{children:[Object(Ce.jsx)(xe.Link,{to:"/portfolio/".concat(e.id,"/?prev=").concat(t),children:e.name}),Object(Ce.jsx)("div",{children:Object(Ce.jsxs)("small",{children:["Last Updated at: ",e.updatedAt]})})]}),Object(Ce.jsx)("td",{children:e.symbols}),Object(Ce.jsx)("td",{children:e.market_value}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(He,{value:e.day_change_value})}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(He,{value:e.day_change_percent,prefix:"%"})}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(He,{value:e.total_change})}),Object(Ce.jsx)("td",{children:Object(Ce.jsx)(He,{value:e.total_change_percent,prefix:"%"})}),Object(Ce.jsxs)("td",{children:[Object(Ce.jsx)(qe,{show:d,title:"Update Portfolio",body:Object(Ce.jsxs)(_e.a,{onSubmit:E,children:[Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(Ce.jsx)(_e.a.Label,{children:"Portfolio Name"}),Object(Ce.jsx)(_e.a.Control,{type:"name",placeholder:"Enter Portfolio Name",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"pt-3 text-right border-top",controlId:"formBasicEmail",children:[Object(Ce.jsx)(ke.a,{onClick:function(){j(!1)},variant:"secondary",children:"Close"}),Object(Ce.jsx)(ke.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}),Object(Ce.jsx)(ke.a,{variant:"info",value:e.id,onClick:function(){m(e.id),h(e.name),j(!0)},size:"sm",className:"my-3 mr-3",children:"Update"}),Object(Ce.jsx)(ke.a,{variant:"info",value:e.id,onClick:C,size:"sm",className:"my-3",children:"Delete"})]})]},e.id)}))})]})})})]})})}a(181);var dt=a(131),jt=a.n(dt);function ut(e){var t,a=e.location,r=e.history,c=e.match,o=Object(n.useState)(!1),i=Object(Se.a)(o,2),l=i[0],d=i[1],j=Object(n.useState)(!1),u=Object(Se.a)(j,2),p=u[0],b=u[1],h=Object(n.useRef)(),O=Object(n.useRef)(),x=Object(n.useState)([]),f=Object(Se.a)(x,2),m=f[0],v=f[1],g=Object(n.useState)(""),y=Object(Se.a)(g,2),S=y[0],_=y[1],k=Object(n.useState)(""),C=Object(Se.a)(k,2),E=C[0],L=C[1],I=Object(n.useState)(new Date),w=Object(Se.a)(I,2),T=w[0],R=w[1],N=new Date,A=Object(n.useState)(0),P=Object(Se.a)(A,2),D=P[0],U=P[1],F=Object(n.useState)(0),G=Object(Se.a)(F,2),z=G[0],B=G[1],K=Object(n.useState)(""),Q=Object(Se.a)(K,2),M=Q[0],q=Q[1],H=Object(s.b)(),J=Object(s.c)((function(e){return e.portfolioDetails})),V=J.error,W=J.loading,X=J.portfolio,ee=Object(s.c)((function(e){return e.userLogin})).userInfo,te=Object(s.c)((function(e){return e.stocksList})),ae=a.search?a.search.split("?prev=")[1]:"/",se=r.location.search?r.location.pathname+r.location.search:r.location.pathname;Object(n.useEffect)((function(){var e;ee||r.push("/login"),H((e=c.params.id,function(){var t=Object(we.a)(Ie.a.mark((function t(a,n){var r,c,s,o,i;return Ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:Y}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Re.a.get("/api/portfolio/".concat(e,"/"),s);case 6:o=t.sent,i=o.data,a({type:Z,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:$,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[ee,c]);var oe=function(e){e.preventDefault(),H(function(e){var t=e.id,a=e.record;return function(){var e=Object(we.a)(Ie.a.mark((function e(n,r){var c,s,o,i,l;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:le}),c=r(),s=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,Re.a.put("/api/portfolio/record/".concat(t,"/"),a,o);case 6:i=e.sent,l=i.data,n({type:de,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:je,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()}({id:S,record:{symbol:E,trade_date:T,shares:D,cost_per_share:z,notes:M}})),b(!1),L(""),R(N),U(""),B(""),q("")},ie=function(e){var t;e.preventDefault(),H((t=e.target.value,function(){var e=Object(we.a)(Ie.a.mark((function e(a,n){var r,c,s;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:ne}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,Re.a.delete("/api/portfolio/record/".concat(t,"/"),s);case 6:a({type:re,payload:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:ce,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))};return W?Object(Ce.jsx)(Ue,{}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(xe.Link,{to:ae,className:"btn btn-light my-3",children:"Go Back"}),V?Object(Ce.jsx)(Ge,{variant:"danger",children:V}):Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(qe,{show:l,title:"Create New Record",body:Object(Ce.jsxs)(_e.a,{onSubmit:function(e){e.preventDefault();var t={symbol:E,trade_date:T,shares:D,cost_per_share:z,notes:M};H(Qe({id:c.params.id,record:t})),d(!1),L(""),R(N),U(""),B(""),q("")},children:[Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Stock Symbol"}),Object(Ce.jsx)(_e.a.Control,{type:"text",placeholder:"Search Stock Symbol / Name",ref:h,onChange:function(e){O.current.style.display="flex",H(Ve("?keyword=".concat(e.target.value))),v(te.stocks.slice(0,5))}}),Object(Ce.jsx)(tt.a,{ref:O,style:{position:"absolute",width:"calc(100% - 32px)",boxShadow:"0px 1px 5px 0px #00000044",zIndex:1},children:m.map((function(e){return Object(Ce.jsxs)(tt.a.Item,{value:e.symbol,style:{cursor:"pointer"},onClick:function(t){h.current.value=e.symbol,L(e.symbol),O.current.style.display="none"},children:[e.name," (",e.symbol,")"]},e.symbol)}))})]}),Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Trading Date"}),Object(Ce.jsx)(jt.a,{selected:T,onChange:function(e){R(e)},className:"form-control",maxDate:N})]}),Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Shares"}),Object(Ce.jsx)(_e.a.Control,{type:"number",step:"any",placeholder:"Shares",value:D,onChange:function(e){return U(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Cost Per Share"}),Object(Ce.jsx)(_e.a.Control,{type:"number",step:"any",placeholder:"Cost Per Share",value:z,onChange:function(e){return B(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Notes"}),Object(Ce.jsx)(_e.a.Control,{type:"text",placeholder:"Notes",value:M,onChange:function(e){return q(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"pt-3 text-right border-top",children:[Object(Ce.jsx)(ke.a,{onClick:function(){return d(!1)},variant:"secondary",children:"Close"}),Object(Ce.jsx)(ke.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}),Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsx)(Pe.a,{className:"d-flex justify-content-between",children:Object(Ce.jsx)(ke.a,{onClick:function(){return d(!0)},variant:"info",size:"sm",className:"my-3 d-flex align-items-center text-center",children:"Create New Record"})})}),Object(Ce.jsx)(Ae.a,{children:Object(Ce.jsx)(Pe.a,{children:Object(Ce.jsxs)(ze.a,{striped:!0,responsive:!0,hover:!0,size:"sm",children:[Object(Ce.jsx)("thead",{children:Object(Ce.jsxs)("tr",{children:[Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Symbols"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Change"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Shares"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Cost / Share"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Market Value"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Day Gain"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Total Gain"})}),Object(Ce.jsx)("th",{children:Object(Ce.jsx)("small",{children:"Notes"})}),Object(Ce.jsx)("th",{})]})}),Object(Ce.jsx)("tbody",{children:null===(t=X.records)||void 0===t?void 0:t.map((function(e){return Object(Ce.jsxs)("tr",{children:[Object(Ce.jsxs)("td",{children:[Object(Ce.jsx)(xe.Link,{to:"/stock/".concat(e.symbol,"/?prev=").concat(se),children:e.symbol}),Object(Ce.jsx)("div",{children:Object(Ce.jsxs)("small",{children:["Price: ",e.symbol_price]})}),Object(Ce.jsx)("div",{children:Object(Ce.jsxs)("small",{children:["Traded on: ",e.trade_date]})})]}),Object(Ce.jsxs)("td",{children:[Object(Ce.jsx)(He,{value:e.change_value}),Object(Ce.jsx)("div",{children:Object(Ce.jsx)("small",{children:Object(Ce.jsx)(He,{value:e.change_percent,prefix:"%"})})})]}),Object(Ce.jsx)("td",{children:e.shares}),Object(Ce.jsx)("td",{children:e.cost_per_share}),Object(Ce.jsx)("td",{children:e.market_value}),Object(Ce.jsxs)("td",{children:[Object(Ce.jsx)(He,{value:e.gain_value}),Object(Ce.jsx)("div",{children:Object(Ce.jsx)("small",{children:Object(Ce.jsx)(He,{value:e.gain_percent,prefix:"%"})})})]}),Object(Ce.jsxs)("td",{children:[Object(Ce.jsx)(He,{value:e.total_gain}),Object(Ce.jsx)("div",{children:Object(Ce.jsx)("small",{children:Object(Ce.jsx)(He,{value:e.total_gain_percent,prefix:"%"})})})]}),Object(Ce.jsx)("td",{children:e.notes}),Object(Ce.jsxs)("td",{children:[Object(Ce.jsx)(qe,{show:p,onClose:function(){return b(!1)},title:"Update Record",body:Object(Ce.jsxs)(_e.a,{onSubmit:oe,children:[Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Stock Symbol"}),Object(Ce.jsx)(_e.a.Control,{type:"text",value:E,placeholder:"Search Stock Symbol / Name",ref:h,onChange:function(e){return e.preventDefault()}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Trading Date"}),Object(Ce.jsx)(jt.a,{selected:T,onChange:function(e){R(e)},className:"form-control",maxDate:N})]}),Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Shares"}),Object(Ce.jsx)(_e.a.Control,{type:"number",step:"any",placeholder:"Shares",value:D,onChange:function(e){return U(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Cost Per Share"}),Object(Ce.jsx)(_e.a.Control,{type:"number",step:"any",placeholder:"Cost Per Share",value:z,onChange:function(e){return B(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"mb-3",children:[Object(Ce.jsx)(_e.a.Label,{children:"Notes"}),Object(Ce.jsx)(_e.a.Control,{type:"text",placeholder:"Notes",value:M,onChange:function(e){return q(e.target.value)}})]}),Object(Ce.jsxs)(_e.a.Group,{className:"pt-3 text-right border-top",children:[Object(Ce.jsx)(ke.a,{onClick:function(){_(""),b(!1)},variant:"secondary",children:"Close"}),Object(Ce.jsx)(ke.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}),Object(Ce.jsx)(ke.a,{variant:"info",value:e.id,onClick:function(){_(e.id),L(e.symbol),R(new Date(e.trade_date)),U(e.shares),B(e.cost_per_share),q(e.notes),b(!0)},size:"sm",className:"my-3 mr-3",children:"Update"}),Object(Ce.jsx)(ke.a,{variant:"info",value:e.id,onClick:ie,size:"sm",className:"my-3",children:"Delete"})]})]},e.id)}))})]})})})]})]})}var pt=function(){return Object(Ce.jsxs)(xe.HashRouter,{children:[Object(Ce.jsx)(Ne,{}),Object(Ce.jsx)("div",{className:"App",children:Object(Ce.jsxs)(Oe.a,{children:[Object(Ce.jsx)(fe.d,{path:"/",component:Ye,exact:!0}),Object(Ce.jsx)(fe.d,{path:"/search/",component:et,exact:!0}),Object(Ce.jsx)(fe.d,{path:"/stock/:id",component:at}),Object(Ce.jsx)(fe.d,{path:"/top-gainers",component:nt}),Object(Ce.jsx)(fe.d,{path:"/top-losers",component:rt}),Object(Ce.jsx)(fe.d,{path:"/login",component:st}),Object(Ce.jsx)(fe.d,{path:"/register",component:ot}),Object(Ce.jsx)(fe.d,{path:"/profile",component:it}),Object(Ce.jsx)(fe.d,{path:"/portfolios",component:lt}),Object(Ce.jsx)(fe.d,{path:"/portfolio/:id",component:ut})]})})]})},bt=(a(223),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,246)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))});c.a.render(Object(Ce.jsx)(s.a,{store:he,children:Object(Ce.jsx)(pt,{})}),document.getElementById("root")),bt()}},[[224,1,2]]]);
//# sourceMappingURL=main.34ab21ca.chunk.js.map