(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{223:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(30),c=a.n(r),s=a(11),o=a(80),i=a(142),l=a(143),d=a(14),j="STOCKS_LIST_REQUEST",u="STOCKS_LIST_SUCCESS",b="STOCKS_LIST_FAIL",p="STOCKS_DETAILS_REQUEST",O="STOCKS_DETAILS_SUCCESS",h="STOCKS_DETAILS_FAIL",x="STOCKS_TOP_GAINER_REQUEST",f="STOCKS_TOP_GAINER_SUCCESS",m="STOCKS_TOP_GAINER_FAIL",v="STOCKS_TOP_LOSER_REQUEST",g="STOCKS_TOP_LOSER_SUCCESS",y="STOCKS_TOP_LOSER_FAIL",S="USER_LOGIN_REQUEST",_="USER_LOGIN_SUCCESS",k="USER_LOGIN_FAIL",E="USER_LOGOUT",C="USER_REGISTER_REQUEST",L="USER_REGISTER_SUCCESS",I="USER_REGISTER_FAIL",w="USER_DETAILS_REQUEST",T="USER_DETAILS_SUCCESS",R="USER_DETAILS_FAIL",N="USER_DETAILS_RESET",A="USER_UPDATE_PROFILE_REQUEST",P="USER_UPDATE_PROFILE_SUCCESS",D="USER_UPDATE_PROFILE_FAIL",U="USER_UPDATE_PROFILE_RESET",F=a(58),G="PORTFOLIO_CREATE_REQUEST",z="PORTFOLIO_CREATE_SUCCESS",B="PORTFOLIO_CREATE_FAIL",Q="PORTFOLIO_REQUEST",K="PORTFOLIO_SUCCESS",q="PORTFOLIO_FAIL",M="PORTFOLIO_DELETE_REQUEST",J="PORTFOLIO_DELETE_SUCCESS",H="PORTFOLIO_DELETE_FAIL",V="PORTFOLIO_DETAILS_REQUEST",X="PORTFOLIO_DETAILS_SUCCESS",W="PORTFOLIO_DETAILS_FAIL",Y="PORTFOLIO_RECORD_CREATE_REQUEST",Z="PORTFOLIO_RECORD_CREATE_SUCCESS",$="PORTFOLIO_RECORD_CREATE_FAIL",ee="PORTFOLIO_RECORD_DELETE_REQUEST",te="PORTFOLIO_RECORD_DELETE_SUCCESS",ae="PORTFOLIO_RECORD_DELETE_FAIL",ne="PORTFOLIO_DETAILS_UPDATE_REQUEST",re="PORTFOLIO_DETAILS_UPDATE_SUCCESS",ce="PORTFOLIO_DETAILS_UPDATE_FAIL",se="PORTFOLIO_RECORD_UPDATE_REQUEST",oe="PORTFOLIO_RECORD_UPDATE_SUCCESS",ie="PORTFOLIO_RECORD_UPDATE_FAIL",le=Object(o.combineReducers)({stocksList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stocks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0,stocks:[]};case u:return{loading:!1,stocks:t.payload.stocks,page:t.payload.page,pages:t.payload.pages};case b:return{loading:!1,error:t.payload};default:return e}},stocksTopGainersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stocks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0,stocks:[]};case f:return{loading:!1,stocks:t.payload};case m:return{loading:!1,error:t.payload};default:return e}},stockDetailsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stock:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(d.a)({loading:!0},e);case O:return{loading:!1,stock:t.payload};case h:return{loading:!1,error:t.payload};default:return e}},stocksTopLosersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stocks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0,stocks:[]};case g:return{loading:!1,stocks:t.payload};case y:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case _:return{loading:!1,userInfo:t.payload};case k:return{loading:!1,error:t.payload};case E:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case L:return{loading:!1,userInfo:t.payload};case I:return{loading:!1,error:t.payload};case E:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case T:return{loading:!1,user:t.payload};case R:return{loading:!1,error:t.payload};case N:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{loading:!0};case P:return{loading:!1,success:!0,userInfo:t.payload};case D:return{loading:!1,error:t.payload};case U:return{};default:return e}},portfolioList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,portfolios:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:case G:case ne:case M:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case K:return{loading:!1,portfolios:t.payload};case q:case B:case ce:case H:return{loading:!1,error:t.payload};case z:return{loading:!1,success:!0,portfolios:[].concat(Object(F.a)(e.portfolios),[t.payload])};case re:var a=e.portfolios.findIndex((function(e){return e.id===t.payload.id}));return e.portfolios[a].name=t.payload.name,e.portfolios[a].updatedAt=t.payload.updatedAt,Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolios:e.portfolios,success:!0});case J:return Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolios:e.portfolios.filter((function(e){return e.id!==parseInt(t.payload)})),success:!0});default:return e}},portfolioDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,portfolio:{records:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:case Y:case se:case ee:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case X:return{loading:!1,portfolio:t.payload};case W:case $:case ie:case ae:return{loading:!1,error:t.payload};case Z:return e.portfolio.records=[].concat(Object(F.a)(e.portfolio.records),[t.payload]),Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolio:e.portfolio});case oe:var a=e.portfolio.records.findIndex((function(e){return e.id===t.payload.id}));return e.portfolio.records[a]=t.payload,Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolio:e.portfolio,success:!0});case te:return e.portfolio.records=e.portfolio.records.filter((function(e){return e.id!==parseInt(t.payload)})),Object(d.a)(Object(d.a)({},e),{},{loading:!1,portfolio:e.portfolio});default:return e}}}),de={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},je=[i.a],ue=Object(o.createStore)(le,de,Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,je))),be=a(234),pe=a(17),Oe=a(19),he=a(242),xe=a(243),fe=a(239),me=a(39),ve=a(12),ge=a(241),ye=a(146),Se=a(1);function _e(){var e=Object(n.useState)(""),t=Object(ve.a)(e,2),a=t[0],r=t[1],c=Object(Oe.k)();return Object(Se.jsxs)(ge.a,{onSubmit:function(e){e.preventDefault(),a?c.push("/search/?keyword=".concat(a,"&page=1")):c.push(c.push(c.location.pathname))},inline:!0,children:[Object(Se.jsx)(ge.a.Control,{type:"text",name:"q",onChange:function(e){return r(e.target.value)},className:"mr-sm-2 ml-sm-5"}),Object(Se.jsx)(ye.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Submit"})]})}var ke=a(13),Ee=a.n(ke),Ce=a(22),Le=a(23),Ie=a.n(Le);function we(){var e=Object(s.c)((function(e){return e.userLogin})).userInfo,t=Object(s.b)();return Object(Se.jsx)("header",{children:Object(Se.jsx)(he.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(Se.jsxs)(be.a,{children:[Object(Se.jsx)(me.LinkContainer,{to:"/",children:Object(Se.jsx)(he.a.Brand,{children:"SE Helper"})}),Object(Se.jsx)(he.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Se.jsxs)(he.a.Collapse,{id:"basic-navbar-nav",children:[Object(Se.jsx)(_e,{}),Object(Se.jsx)(xe.a,{className:"ml-auto",children:e?Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(me.LinkContainer,{to:"/portfolios",children:Object(Se.jsx)(xe.a.Link,{children:"My Portfolio"})}),Object(Se.jsxs)(fe.a,{title:e.name,id:"username",children:[Object(Se.jsx)(me.LinkContainer,{to:"/profile",children:Object(Se.jsx)(fe.a.Item,{children:"Profile"})}),Object(Se.jsx)(fe.a.Item,{onClick:function(){t((function(e){localStorage.removeItem("userInfo"),e({type:E})}))},children:"Logout"})]})]}):Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(me.LinkContainer,{to:"/login",children:Object(Se.jsx)(xe.a.Link,{children:"Login"})}),Object(Se.jsx)(me.LinkContainer,{to:"/register",children:Object(Se.jsx)(xe.a.Link,{children:"Register"})})]})})]})]})})})}var Te=a(238),Re=a(145),Ne=a(235);var Ae=function(){return Object(Se.jsx)(Ne.a,{animation:"grow",role:"status",variant:"success",style:{margin:"100px auto",height:"100px",width:"100px",display:"block"},children:Object(Se.jsx)("span",{className:"sr-only",children:"Loading..."})})},Pe=a(236);var De=function(e){var t=e.variant,a=e.children;return Object(Se.jsx)(Pe.a,{variant:t,children:a})},Ue=a(237),Fe=a(112),Ge=function(){return function(){var e=Object(Ce.a)(Ee.a.mark((function e(t,a){var n,r,c,s,o;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Q}),n=a(),r=n.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,Ie.a.get("/api/portfolio/",c);case 6:s=e.sent,o=s.data,t({type:K,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:q,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},ze=function(e){var t=e.id,a=e.record;return function(){var e=Object(Ce.a)(Ee.a.mark((function e(n,r){var c,s,o,i,l;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:Y}),c=r(),s=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,Ie.a.post("/api/portfolio/".concat(t,"/record/"),a,o);case 6:i=e.sent,l=i.data,n({type:Z,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:$,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},Be=a(240);function Qe(e){var t=e.show,a=(e.onClose,e.title),n=e.body;return Object(Se.jsxs)(Be.a,{show:t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(Se.jsx)(Be.a.Header,{children:Object(Se.jsx)(Be.a.Title,{id:"contained-modal-title-vcenter",children:a})}),Object(Se.jsx)(Be.a.Body,{children:n})]})}function Ke(e){var t=e.value,a=e.prefix;return Object(Se.jsxs)("p",{className:t>0?"text-success":t<0?"text-danger":"",children:[t>0?"+"+t:t,a]})}function qe(e){var t=e.title,a=e.seeMoreLink,r=e.showAddToPortfolioButton,c=e.stocks,o=Object(Oe.k)(),i=o.location.search?o.location.pathname+o.location.search:o.location.pathname,l=Object(n.useState)([]),d=Object(ve.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(!1),p=Object(ve.a)(b,2),O=p[0],h=p[1],x=Object(n.useRef)(),f=Object(s.b)(),m=Object(s.c)((function(e){return e.portfolioList})).portfolios,v=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(n.useEffect)((function(){var e=function(e){var t;(null===(t=x.current)||void 0===t?void 0:t.contains(e.target))&&h(!0)};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}})),Object(n.useEffect)((function(){f(Ge()),v&&r&&0===j.length&&(x.current.disabled=!0),v&&r&&j.length>0&&(x.current.disabled=!1)}),[f,v,r,j]);var g=function(e){var t=e.target.value;u((function(e){return e.find((function(e){return e===t}))?e.filter((function(e){return e!==t})):[].concat(Object(F.a)(e),[t])}))},y=function(e){var t=e.currentTarget.value;j.forEach((function(e){var a={symbol:e,trade_date:new Date,shares:0,cost_per_share:0,notes:""};f(ze({id:t,record:a})),o.push("/portfolio/".concat(t,"/"))}))};return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsxs)("div",{className:"d-flex justify-content-between align-items-baseline",children:[Object(Se.jsx)("h4",{children:t}),r&&v?Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(Qe,{show:O,size:"sm",title:"Choose Portfolio to add the stocks",body:Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)("div",{className:"d-grid gap-2",children:m.map((function(e){return Object(Se.jsx)("div",{children:Object(Se.jsx)(ye.a,{variant:"link",value:e.id,style:{cursor:"pointer"},onClick:y,children:e.name})},e.id)}))}),Object(Se.jsx)(ye.a,{className:"mt-3 float-right",onClick:function(){return h(!1)},variant:"secondary",children:"Close"})]})}),Object(Se.jsxs)(ye.a,{disabled:!0,ref:x,variant:"outline-info",size:"sm",className:"d-flex align-items-center",children:[Object(Se.jsx)(Fe.a,{size:"1rem",className:"mr-2"}),"  Add To Portfolio"]})]}):"",a&&Object(Se.jsx)(pe.Link,{to:a,children:"See More..."})]}),Object(Se.jsxs)(Ue.a,{striped:!0,responsive:!0,hover:!0,size:"sm",children:[Object(Se.jsx)("thead",{children:Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Symbol"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Last Price"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Change"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"% Change"})})]})}),Object(Se.jsx)("tbody",{children:null===c||void 0===c?void 0:c.map((function(e){return Object(Se.jsxs)("tr",{children:[Object(Se.jsxs)("td",{children:[r&&v?Object(Se.jsx)(ge.a.Check,{type:"checkbox",id:"default-checkbox",onChange:g,value:e.symbol,label:Object(Se.jsx)(pe.Link,{to:"/stock/".concat(e.symbol,"/?prev=").concat(i),children:e.symbol})}):Object(Se.jsx)(pe.Link,{to:"/stock/".concat(e.symbol,"/?prev=").concat(i),children:e.symbol}),Object(Se.jsx)("div",{children:Object(Se.jsx)("small",{children:e.name})})]}),Object(Se.jsx)("td",{children:e.price}),Object(Se.jsx)("td",{children:Object(Se.jsx)(Ke,{value:e.change_amount})}),Object(Se.jsx)("td",{children:Object(Se.jsx)(Ke,{value:e.change_percent,prefix:"%"})})]},e.symbol)}))})]})]})}var Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(Ce.a)(Ee.a.mark((function t(a){var n,r;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:j}),t.next=4,Ie.a.get("/api/stocks/".concat(e));case 4:n=t.sent,r=n.data,a({type:u,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:b,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(Ce.a)(Ee.a.mark((function t(a){var n,r;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:x}),t.next=4,Ie.a.get("/api/stocks/top/gainers/".concat(e));case 4:n=t.sent,r=n.data,a({type:f,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:m,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(Ce.a)(Ee.a.mark((function t(a){var n,r;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:v}),t.next=4,Ie.a.get("/api/stocks/top/losers/".concat(e));case 4:n=t.sent,r=n.data,a({type:g,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:y,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()};function Ve(){var e,t,a=Object(s.b)(),r=Object(s.c)((function(e){return e.stocksTopLosersList})),c=Object(s.c)((function(e){return e.stocksTopGainersList}));return Object(n.useEffect)((function(){a(Je()),a(He())}),[a]),Object(Se.jsx)(Se.Fragment,{children:Object(Se.jsx)(Te.a,{children:r.loading&&c.loading?Object(Se.jsx)(Ae,{}):Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(Re.a,{sm:12,md:6,children:c.error?Object(Se.jsx)(De,{variant:"danger",children:c.error}):Object(Se.jsx)("div",{className:"py-5",children:Object(Se.jsx)(qe,{title:"Stocks: Gainers",seeMoreLink:"top-gainers",ink:"top-gainers",stocks:null===(e=c.stocks.stocks)||void 0===e?void 0:e.slice(0,5)})})}),Object(Se.jsx)(Re.a,{sm:12,md:6,children:r.error?Object(Se.jsx)(De,{variant:"danger",children:r.error}):Object(Se.jsx)("div",{className:"py-5",children:Object(Se.jsx)(qe,{title:"Stocks: Losers",seeMoreLink:"top-losers",stocks:null===(t=r.stocks.stocks)||void 0===t?void 0:t.slice(0,5)})})})]})})})}var Xe=a(244);var We=function(e){var t=e.pages,a=e.page,n=e.link,r=void 0===n?"":n,c=e.keywords,s=e.extra;c&&(c=c.split("?")[1].split("&")[0]);var o=Math.max(a-1-s/2,0),i=Math.min(a-1+s/2,t-1);return t>1&&Object(Se.jsxs)(Xe.a,{children:[a>1&&Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(me.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=",1),children:Object(Se.jsx)(Xe.a.Item,{children:"First"})},"first"),Object(Se.jsx)(me.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=").concat(a-1),children:Object(Se.jsx)(Xe.a.Item,{children:"Prev"})},"prev")]}),Object(F.a)(Array(i-o+1).fill().map((function(e,t){return o+t}))).map((function(e){return Object(Se.jsx)(me.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=").concat(e+1),children:Object(Se.jsx)(Xe.a.Item,{active:e+1===a,children:e+1})},e+1)})),Object(Se.jsx)(me.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=").concat(a+1),children:Object(Se.jsx)(Xe.a.Item,{children:"Next"})},"next"),Object(Se.jsx)(me.LinkContainer,{to:"/".concat(r,"/?").concat(c,"&page=").concat(t),children:Object(Se.jsx)(Xe.a.Item,{children:"Last"})},"last")]})};function Ye(e){var t=e.history,a=Object(s.b)(),r=Object(s.c)((function(e){return e.stocksList})),c=r.error,o=r.loading,i=r.stocks,l=r.page,d=r.pages,j=t.location.search,u=j.split("?keyword=")[1].split("&")[0];return Object(n.useEffect)((function(){a(Me(j))}),[a,j]),o?Object(Se.jsx)(Ae,{}):Object(Se.jsx)("div",{children:c?Object(Se.jsx)(De,{variant:"danger",children:c}):Object(Se.jsxs)("div",{children:[Object(Se.jsx)(Te.a,{children:Object(Se.jsx)(Re.a,{children:Object(Se.jsx)("div",{className:"py-5",children:Object(Se.jsx)(qe,{title:"Stocks Search: ".concat(u),showAddToPortfolioButton:!0,stocks:i})})})}),Object(Se.jsx)(We,{page:l,pages:d,keywords:j,link:"search",extra:2})]})})}var Ze=a(245);function $e(e){var t=e.location,a=e.match,r=Object(Oe.k)(),c=Object(n.useState)(!1),o=Object(ve.a)(c,2),i=o[0],l=o[1],d=Object(s.b)(),j=Object(s.c)((function(e){return e.stockDetailsList})),u=j.error,b=j.stock,x=Object(s.c)((function(e){return e.portfolioList})),f=x.loading,m=x.portfolios,v=Object(s.c)((function(e){return e.userLogin})).userInfo,g=t.search?t.search.split("?prev=")[1]:"/";Object(n.useEffect)((function(){var e;d(Ge()),d((e=a.params.id,function(){var t=Object(Ce.a)(Ee.a.mark((function t(a){var n,r;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:p}),t.next=4,Ie.a.get("/api/stocks/".concat(e,"/"));case 4:n=t.sent,r=n.data,a({type:O,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:h,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[d,a]);var y=function(e){var t=e.currentTarget.value,a={symbol:b.symbol,trade_date:new Date,shares:0,cost_per_share:0,notes:""};d(ze({id:t,record:a})),r.push("/portfolio/".concat(t,"/"))};return Object(Se.jsxs)("div",{children:[Object(Se.jsx)(pe.Link,{to:g,className:"btn btn-light my-3",children:"Go Back"}),f?Object(Se.jsx)(Ae,{}):u?Object(Se.jsx)(De,{variant:"danger",children:u}):Object(Se.jsxs)("div",{children:[Object(Se.jsxs)(Te.a,{children:[Object(Se.jsx)(Re.a,{sm:12,md:10,children:Object(Se.jsxs)("h4",{children:[b.name," (",b.symbol,")"]})}),v&&Object(Se.jsxs)(Re.a,{sm:12,md:2,children:[Object(Se.jsx)(Qe,{show:i,size:"sm",title:"Choose Portfolio to add the stocks",body:Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)("div",{className:"d-grid gap-2",children:m.length?m.map((function(e){return Object(Se.jsx)("div",{children:Object(Se.jsx)(ye.a,{variant:"link",value:e.id,style:{cursor:"pointer"},onClick:y,children:e.name})},e.id)})):Object(Se.jsx)("div",{children:"No Portfolio found, please create one"})}),Object(Se.jsx)(ye.a,{className:"mt-3 float-right",onClick:function(){return l(!1)},variant:"secondary",children:"Close"})]})}),Object(Se.jsxs)(ye.a,{variant:"outline-info",size:"sm",className:"d-flex align-items-center",onClick:function(){return l(!0)},children:[Object(Se.jsx)(Fe.a,{size:"1rem",className:"mr-2"}),"  Add To Portfolio"]})]})]}),Object(Se.jsx)(Te.a,{children:Object(Se.jsx)(Re.a,{children:Object(Se.jsxs)("h2",{children:[b.price,Object(Se.jsx)("small",{className:b.change_amount>0?"text-success":"text-danger",children:b.change_amount>0?"+"+b.change_amount:b.change_amount}),Object(Se.jsxs)("small",{className:b.change_percent>0?"text-success":"text-danger",children:["(",b.change_percent>0?"+"+b.change_percent+"%":b.change_percent+"%",")"]})]})})}),Object(Se.jsxs)(Te.a,{children:[Object(Se.jsx)(Re.a,{md:6,children:Object(Se.jsxs)(Ze.a,{variant:"flush",children:[Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Previous Close"}),Object(Se.jsx)("div",{children:b.prev_close_value?b.prev_close_value:"N/A"})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Open"}),Object(Se.jsx)("div",{children:b.open_value?b.open_value:"N/A"})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Bid"}),Object(Se.jsxs)("div",{children:[b.bid_value?b.bid_value:"N/A"," X ",b.bid_quantity?b.bid_quantity:"N/A"]})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Ask"}),Object(Se.jsxs)("div",{children:[b.ask_value?b.ask_value:"N/A"," X ",b.ask_quantity?b.ask_quantity:"N/A"]})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Day's Range"}),Object(Se.jsxs)("div",{children:[b.days_low?b.days_low:"N/A"," - ",b.days_high?b.days_high:"N/A"]})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Day's Range"}),Object(Se.jsxs)("div",{children:[b.fifty_two_week_low?b.fifty_two_week_low:"N/A"," - ",b.fifty_two_week_high?b.fifty_two_week_high:"N/A"]})]})]})}),Object(Se.jsx)(Re.a,{md:6,children:Object(Se.jsxs)(Ze.a,{variant:"flush",children:[Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Volume"}),Object(Se.jsx)("div",{children:b.volume?b.volume:"N/A"})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Avg. Volume"}),Object(Se.jsx)("div",{children:b.avg_volume?b.avg_volume:"N/A"})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Market Cap"}),Object(Se.jsx)("div",{children:b.market_cap?b.market_cap:"N/A"})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"PE Ratio"}),Object(Se.jsx)("div",{children:b.pe_ratio?b.pe_ratio:"N/A"})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"EPS Ratio"}),Object(Se.jsx)("div",{children:b.eps_ratio?b.eps_ratio:"N/A"})]}),Object(Se.jsxs)(Ze.a.Item,{className:"d-flex justify-content-between",children:[Object(Se.jsx)("div",{children:"Forward Dividend & Yield"}),Object(Se.jsx)("div",{children:b.forward_dividend_yield?b.forward_dividend_yield:"N/A"})]})]})})]})]})]})}function et(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.stocksTopGainersList})),a=Object(Oe.k)().location.search;return Object(n.useEffect)((function(){e(Je(a))}),[e,a]),Object(Se.jsx)(Se.Fragment,{children:Object(Se.jsx)(Te.a,{children:Object(Se.jsx)(Re.a,{children:t.loading?Object(Se.jsx)(Ae,{}):t.error?Object(Se.jsx)(De,{variant:"danger",children:t.error}):Object(Se.jsxs)("div",{className:"py-5",children:[Object(Se.jsx)(qe,{title:"Stocks: Gainers (Top ".concat(t.stocks.total,")"),showAddToPortfolioButton:!0,stocks:t.stocks.stocks}),Object(Se.jsx)(We,{page:t.stocks.page,pages:t.stocks.pages,link:"top-gainers",keywords:a,extra:2})]})})})})}function tt(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.stocksTopLosersList})),a=Object(Oe.k)().location.search;return Object(n.useEffect)((function(){e(He(a))}),[e,a]),Object(Se.jsx)(Se.Fragment,{children:Object(Se.jsx)(Te.a,{children:Object(Se.jsx)(Re.a,{children:t.loading?Object(Se.jsx)(Ae,{}):t.error?Object(Se.jsx)(De,{variant:"danger",children:t.error}):Object(Se.jsxs)("div",{className:"py-5",children:[Object(Se.jsx)(qe,{title:"Stocks: Losers (Top ".concat(t.stocks.total,")"),showAddToPortfolioButton:!0,stocks:t.stocks.stocks}),Object(Se.jsx)(We,{page:t.stocks.page,pages:t.stocks.pages,link:"top-losers",keywords:a,extra:2})]})})})})}var at=function(e){var t=e.children;return Object(Se.jsx)(be.a,{children:Object(Se.jsx)(Te.a,{className:"justify-content-md-center py-5",children:Object(Se.jsx)(Re.a,{xs:12,md:6,children:t})})})};function nt(e){var t=e.location,a=e.history,r=Object(n.useState)(""),c=Object(ve.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(""),d=Object(ve.a)(l,2),j=d[0],u=d[1],b=Object(s.b)(),p=t.search?t.search.split("=")[1]:"/",O=Object(s.c)((function(e){return e.userLogin})),h=O.error,x=O.loading,f=O.userInfo;Object(n.useEffect)((function(){f&&a.push(p)}),[a,f,p]);return x?Object(Se.jsx)(Ae,{}):Object(Se.jsxs)(at,{children:[Object(Se.jsx)("h1",{children:"Sign In"}),h&&Object(Se.jsx)(De,{variant:"danger",children:h}),Object(Se.jsxs)(ge.a,{onSubmit:function(e){e.preventDefault(),b(function(e,t){return function(){var a=Object(Ce.a)(Ee.a.mark((function a(n){var r,c,s;return Ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:S}),r={headers:{"Content-type":"application/json"}},a.next=5,Ie.a.post("/api/users/login/",{username:e,password:t},r);case 5:c=a.sent,s=c.data,n({type:_,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:k,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(o,j))},children:[Object(Se.jsxs)(ge.a.Group,{controlId:"email",children:[Object(Se.jsx)(ge.a.Label,{children:"Email Address"}),Object(Se.jsx)(ge.a.Control,{type:"email",placeholder:"Enter Email",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{controlId:"password",children:[Object(Se.jsx)(ge.a.Label,{children:"Password"}),Object(Se.jsx)(ge.a.Control,{type:"password",placeholder:"Enter Password",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Se.jsx)(ye.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(Se.jsx)(Te.a,{className:"py-3",children:Object(Se.jsxs)(Re.a,{children:["New Customer? ",Object(Se.jsx)(pe.Link,{to:p?"/register?redirect=".concat(p):"/register",children:"Register"})]})})]})}var rt=function(e){var t=e.location,a=e.history,r=Object(n.useState)(""),c=Object(ve.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(""),d=Object(ve.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(""),p=Object(ve.a)(b,2),O=p[0],h=p[1],x=Object(n.useState)(""),f=Object(ve.a)(x,2),m=f[0],v=f[1],g=Object(n.useState)(""),y=Object(ve.a)(g,2),S=y[0],k=y[1],E=Object(s.b)(),w=t.search?t.search.split("=")[1]:"/",T=Object(s.c)((function(e){return e.userRegister})),R=T.error,N=T.loading,A=T.userInfo;return Object(n.useEffect)((function(){A&&a.push(w)}),[a,A,w]),N?Object(Se.jsx)(Ae,{}):Object(Se.jsxs)(at,{children:[Object(Se.jsx)("h1",{children:"Sign In"}),S&&Object(Se.jsx)(De,{variant:"danger",children:S}),R&&Object(Se.jsx)(De,{variant:"danger",children:R}),Object(Se.jsxs)(ge.a,{onSubmit:function(e){e.preventDefault(),O!==m?k("Passwords do not match"):E(function(e,t,a){return function(){var n=Object(Ce.a)(Ee.a.mark((function n(r){var c,s,o;return Ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:C}),c={headers:{"Content-type":"application/json"}},n.next=5,Ie.a.post("/api/users/register/",{name:e,email:t,password:a},c);case 5:s=n.sent,o=s.data,r({type:L,payload:o}),r({type:_,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:I,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(o,j,O))},children:[Object(Se.jsxs)(ge.a.Group,{controlId:"name",children:[Object(Se.jsx)(ge.a.Label,{children:"Name"}),Object(Se.jsx)(ge.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:o,onChange:function(e){return i(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{controlId:"email",children:[Object(Se.jsx)(ge.a.Label,{children:"Email Address"}),Object(Se.jsx)(ge.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{controlId:"password",children:[Object(Se.jsx)(ge.a.Label,{children:"Password"}),Object(Se.jsx)(ge.a.Control,{required:!0,type:"password",placeholder:"Enter Password",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{controlId:"passwordConfirm",children:[Object(Se.jsx)(ge.a.Label,{children:"Confirm Password"}),Object(Se.jsx)(ge.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:m,onChange:function(e){return v(e.target.value)}})]}),Object(Se.jsx)(ye.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(Se.jsx)(Te.a,{className:"py-3",children:Object(Se.jsxs)(Re.a,{children:["Have an Account? ",Object(Se.jsx)(pe.Link,{to:w?"/login?redirect=".concat(w):"/login",children:"Sign In"})]})})]})};var ct=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(ve.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(""),l=Object(ve.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(""),b=Object(ve.a)(u,2),p=b[0],O=b[1],h=Object(n.useState)(""),x=Object(ve.a)(h,2),f=x[0],m=x[1],v=Object(n.useState)(""),g=Object(ve.a)(v,2),y=g[0],S=g[1],k=Object(s.b)(),E=Object(s.c)((function(e){return e.userDetails})),C=E.error,L=E.loading,I=E.user,N=Object(s.c)((function(e){return e.userLogin})).userInfo,F=Object(s.c)((function(e){return e.userUpdateProfile})).success;return Object(n.useEffect)((function(){var e;N?I&&I.name&&!F&&N._id===I._id?(o(I.name),j(I.email)):(k({type:U}),k((e="profile",function(){var t=Object(Ce.a)(Ee.a.mark((function t(a,n){var r,c,s,o,i;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:w}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ie.a.get("/api/users/".concat(e,"/"),s);case 6:o=t.sent,i=o.data,a({type:T,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:R,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))):t.push("/login?redirect=portfolio")}),[k,t,N,I,F]),L?Object(Se.jsx)(Ae,{}):Object(Se.jsx)(Te.a,{children:Object(Se.jsxs)(Re.a,{className:"py-5",children:[Object(Se.jsx)("h2",{children:"User Profile"}),y&&Object(Se.jsx)(De,{variant:"danger",children:y}),C&&Object(Se.jsx)(De,{variant:"danger",children:C}),Object(Se.jsxs)(ge.a,{onSubmit:function(e){e.preventDefault(),p!==f?S("Passwords do not match"):(k(function(e){return function(){var t=Object(Ce.a)(Ee.a.mark((function t(a,n){var r,c,s,o,i;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:A}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ie.a.put("/api/users/profile/update/",e,s);case 6:o=t.sent,i=o.data,a({type:P,payload:i}),a({type:_,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:D,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:I._id,name:c,email:d,password:p})),S(""))},children:[Object(Se.jsxs)(ge.a.Group,{controlId:"name",children:[Object(Se.jsx)(ge.a.Label,{children:"Name"}),Object(Se.jsx)(ge.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:c,onChange:function(e){return o(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{controlId:"email",children:[Object(Se.jsx)(ge.a.Label,{children:"Email Address"}),Object(Se.jsx)(ge.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{controlId:"password",children:[Object(Se.jsx)(ge.a.Label,{children:"Password"}),Object(Se.jsx)(ge.a.Control,{type:"password",placeholder:"Enter Password",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{controlId:"passwordConfirm",children:[Object(Se.jsx)(ge.a.Label,{children:"Confirm Password"}),Object(Se.jsx)(ge.a.Control,{type:"password",placeholder:"Confirm Password",value:f,onChange:function(e){return m(e.target.value)}})]}),Object(Se.jsx)(ye.a,{type:"submit",variant:"primary",children:"Update"})]})]})})};function st(){var e=Object(Oe.k)(),t=e.location.search?e.location.pathname+e.location.search:e.location.pathname,a=Object(n.useState)(!1),r=Object(ve.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(!1),l=Object(ve.a)(i,2),d=l[0],j=l[1],u=Object(n.useState)(""),b=Object(ve.a)(u,2),p=b[0],O=b[1],h=Object(n.useState)(""),x=Object(ve.a)(h,2),f=x[0],m=x[1],v=Object(s.c)((function(e){return e.userLogin})).userInfo,g=Object(s.b)(),y=Object(s.c)((function(e){return e.portfolioList})),S=y.error,_=y.loading,k=y.portfolios;Object(n.useEffect)((function(){v||e.push("/login"),g(Ge())}),[]);var E=function(e){e.preventDefault();var t,a=e.target.value;g((t=a,function(){var e=Object(Ce.a)(Ee.a.mark((function e(a,n){var r,c,s;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:M}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,Ie.a.delete("/api/portfolio/".concat(t,"/"),s);case 6:a({type:J,payload:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:H,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},C=function(e){e.preventDefault(),g(function(e){var t=e.id,a=e.portfolio;return function(){var e=Object(Ce.a)(Ee.a.mark((function e(n,r){var c,s,o,i,l;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:ne}),c=r(),s=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,Ie.a.put("/api/portfolio/".concat(t,"/"),a,o);case 6:i=e.sent,l=i.data,n({type:re,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:ce,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()}({id:f,portfolio:{name:p}})),O(""),j(!1)};return _?Object(Se.jsx)(Ae,{}):Object(Se.jsx)(Se.Fragment,{children:S?Object(Se.jsx)(De,{variant:"danger",children:S}):Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(Qe,{show:c,title:"Create New Portfolio",body:Object(Se.jsxs)(ge.a,{onSubmit:function(e){var t;e.preventDefault(),g((t={name:p},function(){var e=Object(Ce.a)(Ee.a.mark((function e(a,n){var r,c,s,o,i;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:G}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,Ie.a.post("/api/portfolio/",t,s);case 6:o=e.sent,i=o.data,a({type:z,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a({type:B,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())),O(""),o(!1)},children:[Object(Se.jsxs)(ge.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(Se.jsx)(ge.a.Label,{children:"Portfolio Name"}),Object(Se.jsx)(ge.a.Control,{type:"name",placeholder:"Enter Portfolio Name",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{className:"pt-3 text-right border-top",controlId:"formBasicEmail",children:[Object(Se.jsx)(ye.a,{onClick:function(){return o(!1)},variant:"secondary",children:"Close"}),Object(Se.jsx)(ye.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}),Object(Se.jsx)(Te.a,{children:Object(Se.jsx)(Re.a,{className:"d-flex justify-content-between",children:Object(Se.jsx)(ye.a,{onClick:function(){return o(!0)},variant:"info",size:"sm",className:"my-3 d-flex align-items-center text-center",children:"Create New Portfolio"})})}),k.length>0&&Object(Se.jsx)(Te.a,{children:Object(Se.jsx)(Re.a,{children:Object(Se.jsxs)(Ue.a,{striped:!0,responsive:!0,hover:!0,size:"sm",children:[Object(Se.jsx)("thead",{children:Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Name"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Symbols"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Market Value"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Day Change"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Day Change%"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Total Change"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Total Change %"})}),Object(Se.jsx)("th",{})]})}),Object(Se.jsx)("tbody",{children:null===k||void 0===k?void 0:k.map((function(e){return Object(Se.jsxs)("tr",{children:[Object(Se.jsxs)("td",{children:[Object(Se.jsx)(pe.Link,{to:"/portfolio/".concat(e.id,"/?prev=").concat(t),children:e.name}),Object(Se.jsx)("div",{children:Object(Se.jsxs)("small",{children:["Last Updated at: ",e.updatedAt]})})]}),Object(Se.jsx)("td",{children:e.symbols}),Object(Se.jsx)("td",{children:e.market_value}),Object(Se.jsx)("td",{children:Object(Se.jsx)(Ke,{value:e.day_change_value})}),Object(Se.jsx)("td",{children:Object(Se.jsx)(Ke,{value:e.day_change_percent,prefix:"%"})}),Object(Se.jsx)("td",{children:Object(Se.jsx)(Ke,{value:e.total_change})}),Object(Se.jsx)("td",{children:Object(Se.jsx)(Ke,{value:e.total_change_percent,prefix:"%"})}),Object(Se.jsxs)("td",{children:[Object(Se.jsx)(Qe,{show:d,title:"Update Portfolio",body:Object(Se.jsxs)(ge.a,{onSubmit:C,children:[Object(Se.jsxs)(ge.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(Se.jsx)(ge.a.Label,{children:"Portfolio Name"}),Object(Se.jsx)(ge.a.Control,{type:"name",placeholder:"Enter Portfolio Name",value:p,onChange:function(e){return O(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{className:"pt-3 text-right border-top",controlId:"formBasicEmail",children:[Object(Se.jsx)(ye.a,{onClick:function(){j(!1)},variant:"secondary",children:"Close"}),Object(Se.jsx)(ye.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}),Object(Se.jsx)(ye.a,{variant:"info",value:e.id,onClick:function(){m(e.id),O(e.name),j(!0)},size:"sm",className:"my-3 mr-3",children:"Update"}),Object(Se.jsx)(ye.a,{variant:"info",value:e.id,onClick:E,size:"sm",className:"my-3",children:"Delete"})]})]},e.id)}))})]})})})]})})}a(181);var ot=a(131),it=a.n(ot);function lt(e){var t,a=e.location,r=e.history,c=e.match,o=Object(n.useState)(!1),i=Object(ve.a)(o,2),l=i[0],d=i[1],j=Object(n.useState)(!1),u=Object(ve.a)(j,2),b=u[0],p=u[1],O=Object(n.useRef)(),h=Object(n.useRef)(),x=Object(n.useState)([]),f=Object(ve.a)(x,2),m=f[0],v=f[1],g=Object(n.useState)(""),y=Object(ve.a)(g,2),S=y[0],_=y[1],k=Object(n.useState)(""),E=Object(ve.a)(k,2),C=E[0],L=E[1],I=Object(n.useState)(new Date),w=Object(ve.a)(I,2),T=w[0],R=w[1],N=new Date,A=Object(n.useState)(0),P=Object(ve.a)(A,2),D=P[0],U=P[1],F=Object(n.useState)(0),G=Object(ve.a)(F,2),z=G[0],B=G[1],Q=Object(n.useState)(""),K=Object(ve.a)(Q,2),q=K[0],M=K[1],J=Object(s.b)(),H=Object(s.c)((function(e){return e.portfolioDetails})),Y=H.error,Z=H.loading,$=H.portfolio,ne=Object(s.c)((function(e){return e.userLogin})).userInfo,re=Object(s.c)((function(e){return e.stocksList})),ce=a.search?a.search.split("?prev=")[1]:"/",le=r.location.search?r.location.pathname+r.location.search:r.location.pathname;Object(n.useEffect)((function(){var e;ne||r.push("/login"),J((e=c.params.id,function(){var t=Object(Ce.a)(Ee.a.mark((function t(a,n){var r,c,s,o,i;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ie.a.get("/api/portfolio/".concat(e,"/"),s);case 6:o=t.sent,i=o.data,a({type:X,payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:W,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[ne,c]);var de=function(e){e.preventDefault(),J(function(e){var t=e.id,a=e.record;return function(){var e=Object(Ce.a)(Ee.a.mark((function e(n,r){var c,s,o,i,l;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:se}),c=r(),s=c.userLogin.userInfo,o={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,Ie.a.put("/api/portfolio/record/".concat(t,"/"),a,o);case 6:i=e.sent,l=i.data,n({type:oe,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n({type:ie,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()}({id:S,record:{symbol:C,trade_date:T,shares:D,cost_per_share:z,notes:q}})),p(!1),L(""),R(N),U(""),B(""),M("")},je=function(e){var t;e.preventDefault(),J((t=e.target.value,function(){var e=Object(Ce.a)(Ee.a.mark((function e(a,n){var r,c,s;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:ee}),r=n(),c=r.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,Ie.a.delete("/api/portfolio/record/".concat(t,"/"),s);case 6:a({type:te,payload:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:ae,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))};return Z?Object(Se.jsx)(Ae,{}):Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(pe.Link,{to:ce,className:"btn btn-light my-3",children:"Go Back"}),Y?Object(Se.jsx)(De,{variant:"danger",children:Y}):Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(Qe,{show:l,title:"Create New Record",body:Object(Se.jsxs)(ge.a,{onSubmit:function(e){e.preventDefault();var t={symbol:C,trade_date:T,shares:D,cost_per_share:z,notes:q};J(ze({id:c.params.id,record:t})),d(!1),L(""),R(N),U(""),B(""),M("")},children:[Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Stock Symbol"}),Object(Se.jsx)(ge.a.Control,{type:"text",placeholder:"Search Stock Symbol / Name",ref:O,onChange:function(e){h.current.style.display="flex",J(Me("?keyword=".concat(e.target.value))),v(re.stocks.slice(0,5))}}),Object(Se.jsx)(Ze.a,{ref:h,style:{position:"absolute",width:"calc(100% - 32px)",boxShadow:"0px 1px 5px 0px #00000044",zIndex:1},children:m.map((function(e){return Object(Se.jsxs)(Ze.a.Item,{value:e.symbol,style:{cursor:"pointer"},onClick:function(t){O.current.value=e.symbol,L(e.symbol),h.current.style.display="none"},children:[e.name," (",e.symbol,")"]},e.symbol)}))})]}),Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Trading Date"}),Object(Se.jsx)(it.a,{selected:T,onChange:function(e){R(e)},className:"form-control",maxDate:N})]}),Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Shares"}),Object(Se.jsx)(ge.a.Control,{type:"number",step:"any",placeholder:"Shares",value:D,onChange:function(e){return U(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Cost Per Share"}),Object(Se.jsx)(ge.a.Control,{type:"number",step:"any",placeholder:"Cost Per Share",value:z,onChange:function(e){return B(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Notes"}),Object(Se.jsx)(ge.a.Control,{type:"text",placeholder:"Notes",value:q,onChange:function(e){return M(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{className:"pt-3 text-right border-top",children:[Object(Se.jsx)(ye.a,{onClick:function(){return d(!1)},variant:"secondary",children:"Close"}),Object(Se.jsx)(ye.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}),Object(Se.jsx)(Te.a,{children:Object(Se.jsx)(Re.a,{className:"d-flex justify-content-between",children:Object(Se.jsx)(ye.a,{onClick:function(){return d(!0)},variant:"info",size:"sm",className:"my-3 d-flex align-items-center text-center",children:"Create New Record"})})}),Object(Se.jsx)(Te.a,{children:Object(Se.jsx)(Re.a,{children:Object(Se.jsxs)(Ue.a,{striped:!0,responsive:!0,hover:!0,size:"sm",children:[Object(Se.jsx)("thead",{children:Object(Se.jsxs)("tr",{children:[Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Symbols"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Change"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Shares"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Cost / Share"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Market Value"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Day Gain"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Total Gain"})}),Object(Se.jsx)("th",{children:Object(Se.jsx)("small",{children:"Notes"})}),Object(Se.jsx)("th",{})]})}),Object(Se.jsx)("tbody",{children:null===(t=$.records)||void 0===t?void 0:t.map((function(e){return Object(Se.jsxs)("tr",{children:[Object(Se.jsxs)("td",{children:[Object(Se.jsx)(pe.Link,{to:"/stock/".concat(e.symbol,"/?prev=").concat(le),children:e.symbol}),Object(Se.jsx)("div",{children:Object(Se.jsxs)("small",{children:["Price: ",e.symbol_price]})}),Object(Se.jsx)("div",{children:Object(Se.jsxs)("small",{children:["Traded on: ",e.trade_date]})})]}),Object(Se.jsxs)("td",{children:[Object(Se.jsx)(Ke,{value:e.change_value}),Object(Se.jsx)("div",{children:Object(Se.jsx)("small",{children:Object(Se.jsx)(Ke,{value:e.change_percent,prefix:"%"})})})]}),Object(Se.jsx)("td",{children:e.shares}),Object(Se.jsx)("td",{children:e.cost_per_share}),Object(Se.jsx)("td",{children:e.market_value}),Object(Se.jsxs)("td",{children:[Object(Se.jsx)(Ke,{value:e.gain_value}),Object(Se.jsx)("div",{children:Object(Se.jsx)("small",{children:Object(Se.jsx)(Ke,{value:e.gain_percent,prefix:"%"})})})]}),Object(Se.jsxs)("td",{children:[Object(Se.jsx)(Ke,{value:e.total_gain}),Object(Se.jsx)("div",{children:Object(Se.jsx)("small",{children:Object(Se.jsx)(Ke,{value:e.total_gain_percent,prefix:"%"})})})]}),Object(Se.jsx)("td",{children:e.notes}),Object(Se.jsxs)("td",{children:[Object(Se.jsx)(Qe,{show:b,onClose:function(){return p(!1)},title:"Update Record",body:Object(Se.jsxs)(ge.a,{onSubmit:de,children:[Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Stock Symbol"}),Object(Se.jsx)(ge.a.Control,{type:"text",value:C,placeholder:"Search Stock Symbol / Name",ref:O,onChange:function(e){return e.preventDefault()}})]}),Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Trading Date"}),Object(Se.jsx)(it.a,{selected:T,onChange:function(e){R(e)},className:"form-control",maxDate:N})]}),Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Shares"}),Object(Se.jsx)(ge.a.Control,{type:"number",step:"any",placeholder:"Shares",value:D,onChange:function(e){return U(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Cost Per Share"}),Object(Se.jsx)(ge.a.Control,{type:"number",step:"any",placeholder:"Cost Per Share",value:z,onChange:function(e){return B(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{className:"mb-3",children:[Object(Se.jsx)(ge.a.Label,{children:"Notes"}),Object(Se.jsx)(ge.a.Control,{type:"text",placeholder:"Notes",value:q,onChange:function(e){return M(e.target.value)}})]}),Object(Se.jsxs)(ge.a.Group,{className:"pt-3 text-right border-top",children:[Object(Se.jsx)(ye.a,{onClick:function(){_(""),p(!1)},variant:"secondary",children:"Close"}),Object(Se.jsx)(ye.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}),Object(Se.jsx)(ye.a,{variant:"info",value:e.id,onClick:function(){_(e.id),L(e.symbol),R(new Date(e.trade_date)),U(e.shares),B(e.cost_per_share),M(e.notes),p(!0)},size:"sm",className:"my-3 mr-3",children:"Update"}),Object(Se.jsx)(ye.a,{variant:"info",value:e.id,onClick:je,size:"sm",className:"my-3",children:"Delete"})]})]},e.id)}))})]})})})]})]})}var dt=function(){return Object(Se.jsxs)(pe.HashRouter,{children:[Object(Se.jsx)(we,{}),Object(Se.jsx)("div",{className:"App",children:Object(Se.jsxs)(be.a,{children:[Object(Se.jsx)(Oe.d,{path:"/",component:Ve,exact:!0}),Object(Se.jsx)(Oe.d,{path:"/search/",component:Ye,exact:!0}),Object(Se.jsx)(Oe.d,{path:"/stock/:id",component:$e}),Object(Se.jsx)(Oe.d,{path:"/top-gainers",component:et}),Object(Se.jsx)(Oe.d,{path:"/top-losers",component:tt}),Object(Se.jsx)(Oe.d,{path:"/login",component:nt}),Object(Se.jsx)(Oe.d,{path:"/register",component:rt}),Object(Se.jsx)(Oe.d,{path:"/profile",component:ct}),Object(Se.jsx)(Oe.d,{path:"/portfolios",component:st}),Object(Se.jsx)(Oe.d,{path:"/portfolio/:id",component:lt})]})})]})},jt=(a(223),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,246)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))});c.a.render(Object(Se.jsx)(s.a,{store:ue,children:Object(Se.jsx)(dt,{})}),document.getElementById("root")),jt()}},[[224,1,2]]]);
//# sourceMappingURL=main.a99261a5.chunk.js.map